<!DOCTYPE html>
<html lang="en-US" itemscope itemtype="http://schema.org/WebPage">
<head><meta charset="UTF-8">
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<title>Datasets – CityMind Lab</title>
<meta name="robots" content="max-image-preview:large">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//www.googletagmanager.com">
<link rel="alternate" type="application/rss+xml" title="CityMind Lab » Feed" href="/feed/">
<link rel="canonical" href="/pages/dataset-pages.html">
<link rel="shortlink" href="/pages/dataset-pages.html">
<style id="wp-block-code-inline-css">.wp-block-code{box-sizing:border-box}.wp-block-code code{direction:ltr;display:block;font-family:inherit;overflow-wrap:break-word;text-align:initial;white-space:pre-wrap}</style>
<style id="wp-block-code-theme-inline-css">.wp-block-code{border:1px solid #ccc;border-radius:4px;font-family:Menlo,Consolas,monaco,monospace;padding:.8em 1em}</style>
<style id="wp-block-table-inline-css">.wp-block-table{overflow-x:auto}.wp-block-table table{border-collapse:collapse;width:100%}.wp-block-table td,.wp-block-table th{border:1px solid;padding:.5em}</style>
<link rel="stylesheet" id="parent-style-css" href="/wp-content/themes/bloglo/style.css?ver=6.9.1" media="all">
<link rel="stylesheet" id="child-style-css" href="/wp-content/themes/blogmate/style.css?ver=6.9.1" media="all">
<link rel="stylesheet" id="bloglo-styles-css" href="/wp-content/themes/bloglo/assets/css/style.min.css?ver=1.1.18" media="all">
<link rel="stylesheet" id="bloglo-dynamic-styles-css" href="/imgs/common/bloglo-dynamic-styles.css?ver=1769382155" media="all">
<link rel="icon" href="/imgs/common/cropped-citymind.png" sizes="32x32">
<link rel="apple-touch-icon" href="/imgs/common/cropped-citymind.png">
<style id="custom-background-css">body.custom-background { background-color: #ffffff; }</style>
</head>
<body class="wp-singular post-template-default single single-post custom-background wp-custom-logo wp-embed-responsive wp-theme-bloglo wp-child-theme-blogmate bloglo-layout__fw-contained bloglo-header-layout-2 bloglo-no-sidebar">

<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#main">Skip to content</a>
		<div id="layout-header"></div>


	<div id="main" class="site-main">
		<div class="bloglo-container">
			<div id="primary" class="content-area">
				<main id="content" class="site-content" role="main" itemscope itemtype="http://schema.org/Blog">
					<article class="bloglo-article post type-post status-publish format-standard has-post-thumbnail hentry category-datasets" itemscope itemtype="https://schema.org/CreativeWork">
						<div id="dataset-article-root"><p>Loading…</p></div>
					</article>
					<section class="post-nav" role="navigation">
						<h2 class="screen-reader-text">Post navigation</h2>
						<div id="dataset-post-nav-root"></div>
					</section>
				</main>
			</div>
		</div>
	</div>

				<div id="layout-footer"></div>

	</div><!-- END #page -->



<script src="../inc/layout.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.6/marked.min.js"></script>
<script src="/wp-content/themes/bloglo/assets/js/bloglo.min.js?ver=1.1.18" id="bloglo-js"></script>
<script>
(function() {
	var configUrl = 'configs/dataset-pages.yaml';
	if (document.location.pathname.indexOf('/pages/') !== -1) configUrl = '../configs/dataset-pages.yaml';

	var name = (new URLSearchParams(document.location.search)).get('name');
	var articleRoot = document.getElementById('dataset-article-root');
	var navRoot = document.getElementById('dataset-post-nav-root');

	function formatDate(ymd) {
		if (!ymd) return '';
		var p = String(ymd).split('-');
		if (p.length !== 3) return ymd;
		return p[0] + '\u5e74' + parseInt(p[1], 10) + '\u6708' + parseInt(p[2], 10) + '\u65e5';
	}

	function render(item, list, index) {
		var title = item.title || item.id;
		document.title = title + ' – CityMind Lab';
		var canonical = document.querySelector('link[rel="canonical"]');
		if (canonical) canonical.href = document.location.origin + document.location.pathname + '?name=' + encodeURIComponent(item.id);

		var dateStr = formatDate(item.date);
		var updatedStr = formatDate(item.lastUpdated);
		var dateTime = item.date ? (item.date + 'T00:00:00+08:00') : '';
		var updatedTime = item.lastUpdated ? (item.lastUpdated + 'T00:00:00+08:00') : '';

		var calendarSvg = '<svg class="bloglo-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 29.36 29.36"><path d="M14.68 0a14.68 14.68 0 1014.68 14.68A14.64 14.64 0 0014.68 0zm0 26.69a12 12 0 1112-12 12 12 0 01-12 12zm5.87-10.54L16 13.88V6.67a1.25 1.25 0 00-1.33-1.33 1.26 1.26 0 00-1.34 1.33v8a1.28 1.28 0 00.81 1.2l5.33 2.67c.14.13.27.13.54.13a1.28 1.28 0 001.2-.8 1.41 1.41 0 00-.67-1.73z"></path></svg>';
		var editSvg = '<svg class="bloglo-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 32 32"><path d="M4.004 23.429h5.339c.4 0 .667-.133.934-.4L24.958 8.348a1.29 1.29 0 000-1.868l-5.339-5.339a1.29 1.29 0 00-1.868 0L3.07 15.822c-.267.267-.4.534-.4.934v5.339c0 .801.534 1.335 1.335 1.335zm1.335-6.139L18.685 3.944l3.47 3.47L8.809 20.76h-3.47v-3.47zm22.688 10.143H4.004c-.801 0-1.335.534-1.335 1.335s.534 1.335 1.335 1.335h24.023c.801 0 1.335-.534 1.335-1.335s-.534-1.335-1.335-1.335z"></path></svg>';

		var contentHtml = (item.content && typeof marked !== 'undefined') ? marked.parse(item.content, { gfm: true }) : (item.content || '').replace(/\n/g, '<br>');
		contentHtml = contentHtml.replace(/<pre>/g, '<pre class="wp-block-code">').replace(/<table>/g, '<figure class="wp-block-table"><table>').replace(/<\/table>/g, '</table></figure>');

		articleRoot.innerHTML =
			'<div class="post-category"><span class="cat-links"><span class="screen-reader-text">Posted in</span><span><a href="/pages/datasets.html" rel="category">Datasets</a></span></span></div>' +
			'<header class="entry-header"><h1 class="entry-title" itemprop="headline">' + escapeHtml(title) + '</h1></header>' +
			'<div class="entry-meta"><div class="entry-meta-elements"><span class="posted-on"><time class="entry-date published updated" datetime="' + escapeHtml(dateTime) + '">' + calendarSvg + dateStr + '</time></span></div></div>' +
			'<div class="post-thumb entry-media thumbnail"><img src="' + escapeHtml(item.image || '') + '" class="attachment-full size-full wp-post-image" alt="' + escapeHtml(title) + '"></div>' +
			'<div class="entry-content bloglo-entry" itemprop="text">' + contentHtml + '</div>' +
			'<div class="entry-footer"><span class="last-updated bloglo-iflex-center">' + editSvg + '<time class="entry-date updated" datetime="' + escapeHtml(updatedTime) + '">Last updated on ' + updatedStr + '</time></span></div>';

		var baseUrl = document.location.pathname;
		var prev = index > 0 ? list[index - 1] : null;
		var next = index < list.length - 1 && index >= 0 ? list[index + 1] : null;
		var navHtml = '';
		if (prev) navHtml += '<div class="nav-previous"><h6 class="nav-title">Previous Post</h6><a href="' + baseUrl + '?name=' + encodeURIComponent(prev.id) + '" rel="prev"><div class="nav-content"><img width="75" height="75" src="' + escapeHtml(prev.image || '') + '" class="attachment-75x75 size-75x75 wp-post-image" alt="' + escapeHtml(prev.title || prev.id) + '" decoding="async" loading="lazy"> <span>' + escapeHtml(prev.title || prev.id) + '</span></div></a></div>';
		if (next) navHtml += '<div class="nav-next"><h6 class="nav-title">Next Post</h6><a href="' + baseUrl + '?name=' + encodeURIComponent(next.id) + '" rel="next"><div class="nav-content"><span>' + escapeHtml(next.title || next.id) + '</span> <img width="75" height="75" src="' + escapeHtml(next.image || '') + '" class="attachment-75x75 size-75x75 wp-post-image" alt="' + escapeHtml(next.title || next.id) + '" decoding="async" loading="lazy"></div></a></div>';
		navRoot.innerHTML = navHtml;
	}

	function escapeHtml(s) {
		if (s == null) return '';
		var d = document.createElement('div');
		d.textContent = s;
		return d.innerHTML;
	}

	if (!name) {
		articleRoot.innerHTML = '<div class="entry-content"><p>Dataset not specified. <a href="/pages/datasets.html">Back to Datasets</a>.</p></div>';
		navRoot.innerHTML = '';
		return;
	}

	fetch(configUrl)
		.then(function(r) { return r.ok ? r.text() : Promise.reject(new Error('Failed to load config')); })
		.then(function(text) {
			var list = jsyaml.load(text);
			if (!Array.isArray(list)) list = [];
			var index = -1;
			for (var i = 0; i < list.length; i++) { if (list[i] && list[i].id === name) { index = i; break; } }
			if (index === -1) {
				articleRoot.innerHTML = '<div class="entry-content"><p>Dataset not found. <a href="/pages/datasets.html">Back to Datasets</a>.</p></div>';
				navRoot.innerHTML = '';
				return;
			}
			render(list[index], list, index);
		})
		.catch(function() {
			articleRoot.innerHTML = '<div class="entry-content"><p>Failed to load config. Check configs/dataset-pages.yaml.</p></div>';
			navRoot.innerHTML = '';
		});
})();
</script>
</body>
</html>
